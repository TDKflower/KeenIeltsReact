import{i as b,r as a,p as k,j as e,h as x,a as p,b as t,C as o,A as g}from"./index-5df064db.js";import"./CustomAudioPlayer-c4e7c5cb.js";import{O as N}from"./OverallBandsCard-28b4ab73.js";import{E as R,S as E}from"./SuggestionListCard-9b19c508.js";import{S as v}from"./SpeakingLoader-ae3fcb46.js";import{U as w,T,F as A}from"./TestReactionCard-081c7858.js";import{S as L}from"./StartPracticeTestCard-164876d2.js";import{W as P}from"./WhatsNextCard-948ae741.js";import{C as F}from"./CommentsCard-9418449f.js";import{S as z}from"./SpeakingResponsesCard-2d42c633.js";import"./Table-013b1797.js";import"./EvaluationLoader-6e9d5ae2.js";import"./Modal-70dcfc33.js";import"./Accordion-3f5bb3d2.js";const j="speaking",Z=()=>{const{module_slug:l,attempt_slug:c}=b(),[n,f]=a.useState(null),[m,h]=a.useState(null),[r,_]=a.useState(null),[y,M]=a.useState(0),[B,d]=a.useState("desktop"),i=k();async function u(){const s=await i.post(g.getSpeakingAttempt+c+"/");s.status===200?f(s.data):console.error("Unable to fetch attempt at ListeningResult.jsx")}async function S(){const s=await i.post(g.getSpeakingModule+l+"/");s.status===200&&h(s.data)}async function C(){const s=await i.post("/ieltstest/get_speaking_evaluation/"+c+"/");s.status===200?(_(s.data),u()):console.error("Unable to fetch attempt at ListeningResult.jsx")}return a.useEffect(()=>{u(),S()},[]),a.useEffect(()=>{C()},[]),a.useEffect(()=>{const s=()=>{window.innerWidth<768?d("mobile"):d("desktop")};return s(),window.addEventListener("resize",s),()=>{window.removeEventListener("resize",s)}},[]),a.useEffect(()=>{document.title="Speaking Test Result  | KeenIELTS"},[]),!m||!n||!r?e.jsx(v,{}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"mt-4",children:e.jsx(x,{children:e.jsx(p,{className:"justify-content-center",children:e.jsx(t,{xl:8,lg:10,md:12,className:"",children:e.jsx(w,{attempt:n,module_type:j})})})})}),e.jsx(x,{className:"mb-3",children:e.jsxs(p,{className:"justify-content-center",children:[e.jsx(t,{xl:8,lg:10,md:12,className:"mt-3",children:e.jsx(N,{bands:n.bands,description:n.bands_description,color:"speaking"})}),e.jsx(t,{xl:8,lg:10,md:12,className:"mt-3",children:e.jsx(R,{evaluation_keys:U,evaluation:r})}),e.jsx(t,{xl:8,lg:10,md:12,className:"mt-3",children:e.jsx(E,{title:"Test Suggestions",array:r.word_choice_suggestions})}),e.jsx(t,{xl:8,lg:10,md:12,className:"mt-3",children:e.jsxs(o,{children:[e.jsx(o.Header,{children:e.jsx("h3",{className:"mt-2 fw-bold",children:"Conclusion & Expert Feedback"})}),e.jsx(o.Body,{children:e.jsx("p",{style:{fontSize:"1.1rem"},children:r&&r.overall_personalized_feedback_suggestions})})]})}),e.jsx(t,{xl:8,lg:10,md:12,className:"mt-3",children:e.jsx(z,{attempt:n,currentAudioTime:y,module:m})}),e.jsx(t,{xl:8,lg:10,md:12,className:"mt-3",children:e.jsx(T,{})}),n.full_test_next_attempt&&e.jsx(t,{xl:8,lg:10,md:12,className:"my-3",children:e.jsx(A,{attempt:n})}),e.jsx(t,{xl:8,lg:10,md:12,className:"my-3",children:e.jsx(P,{})}),e.jsx(t,{xl:8,lg:10,md:12,className:"mb-3",children:e.jsx(L,{})}),e.jsx(t,{xl:8,lg:10,md:12,className:"mb-3",children:e.jsx(F,{unique_id:`${j}-${l}`})})]})})]})},U=[{name:"Fluency and Coherence",short:"FC",key:"fluency_and_coherence_bands"},{name:"Grammatical Range Accuracy",short:"GRA",key:"grammatical_range_and_accuracy_bands"},{name:"Lexical Resource",short:"LR",key:"lexical_resource_bands"},{name:"Pronunciation",short:"PR",key:"pronunciation_bands"}];export{Z as default};
//# sourceMappingURL=SpeakingResultPage-ca1434ac.js.map
