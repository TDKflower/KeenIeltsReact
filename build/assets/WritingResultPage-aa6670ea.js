import{M as P,j as e,C as o,S as M,c as k,G as I,e as H,i as U,r,q,p as G,h as E,a as L,b as a,f as O,H as A,A as R}from"./index-5df064db.js";/* empty css                      */import{O as Y}from"./OverallBandsCard-28b4ab73.js";import{E as V,S as K}from"./SuggestionListCard-9b19c508.js";import{U as $,T as D,F as Z}from"./TestReactionCard-081c7858.js";import{W as J}from"./WhatsNextCard-948ae741.js";import{S as Q}from"./StartPracticeTestCard-164876d2.js";import{C as X}from"./CommentsCard-9418449f.js";import{A as j}from"./Accordion-3f5bb3d2.js";import"./Table-013b1797.js";import"./Modal-70dcfc33.js";function ee(u){return P({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M4 13.5V4a2 2 0 0 1 2-2h8.5L20 7.5V20a2 2 0 0 1-2 2h-5.5"}},{tag:"polyline",attr:{points:"14 2 14 8 20 8"}},{tag:"path",attr:{d:"M10.42 12.61a2.1 2.1 0 1 1 2.97 2.97L7.95 21 4 22l.99-3.95 5.43-5.44Z"}}]})(u)}const T=({currentSection:u,deviceType:x,isFirstSection:n,isLastSection:f,handlePreviousSectionButton:i,handleNextSectionButton:g})=>e.jsx(o,{children:e.jsx(o.Body,{children:e.jsxs(M,{direction:"horizontal",children:[e.jsx("div",{children:e.jsxs(k,{variant:"primary",onClick:i,disabled:n,children:[e.jsx(I,{size:20})," ",x==="desktop"&&"Previous "]})}),e.jsx("div",{className:"ms-auto",children:e.jsx("span",{className:"fw-bold text-black",style:{fontSize:"20px"},children:u.section})}),e.jsx("div",{className:"ms-auto",children:e.jsxs(k,{variant:"primary",onClick:g,disabled:f,children:[x==="desktop"&&"Next ",e.jsx(H,{size:20})]})})]})})}),z="writing",xe=()=>{const{module_slug:u,attempt_slug:x}=U(),[n,f]=r.useState(null),[i,g]=r.useState(null),[t,h]=r.useState(null),[c,W]=r.useState(null);r.useContext(q);const _=t?t.id===n.sections[0].id:!1,y=t?t.id===n.sections[n.sections.length-1].id:!1,[w,b]=r.useState("desktop"),p=G();async function N(){const s=await p.post(R.getWritingAttempt+x+"/");s.status===200?g(s.data):console.error("Unable to fetch attempt at ListeningResult.jsx")}async function B(){const s=await p.post(R.getWritingModule+u+"/");s.status===200&&(f(s.data),h(s.data.sections[0]))}async function v(s,l){l<s.length?(await F(s[l].id),v(s,l+1)):N()}async function F(s){const l=await p.post("/ieltstest/get_writing_evaluation/"+x+"/"+s+"/");l.status===200?W(d=>({...d,[s]:l.data})):console.error("Unable to fetch attempt at WritingResultPage.jsx")}function S(){let l=t.id-1;const d=n.sections.find(m=>m.id===l);if(d)h(d);else{const m=n.sections[n.sections.length-1];h(m)}}function C(){let l=t.id+1;const d=n.sections.find(m=>m.id===l);if(d)h(d);else{const m=n.sections[0];h(m)}}return r.useEffect(()=>{N(),B()},[]),r.useEffect(()=>{n&&n.sections&&v(n.sections,0)},[n]),r.useEffect(()=>{const s=()=>{window.innerWidth<768?b("mobile"):b("desktop")};return s(),window.addEventListener("resize",s),()=>{window.removeEventListener("resize",s)}},[]),r.useEffect(()=>{t&&window.scrollTo(0,0)},[t]),r.useEffect(()=>{document.title="Writing Test Result  | KeenIELTS"},[]),!n||!i?null:e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"mt-4",children:e.jsx(E,{children:e.jsx(L,{className:"justify-content-center",children:e.jsx(a,{xl:8,lg:10,md:12,className:"",children:e.jsx($,{attempt:i,module_type:z})})})})}),e.jsx(E,{className:"mb-3",children:e.jsxs(L,{className:"justify-content-center",children:[e.jsxs(a,{xl:8,lg:10,md:12,className:"mt-3",children:[i&&i.bands>0?e.jsx(Y,{bands:i.bands,description:i.bands_description,color:"writing"}):e.jsx(O,{title:"Overall Score"}),e.jsx("hr",{className:" my-4"})]}),c?e.jsxs(e.Fragment,{children:[e.jsx(a,{xl:8,lg:10,md:12,className:"",children:e.jsx(T,{currentSection:t,deviceType:w,isFirstSection:_,isLastSection:y,handleNextSectionButton:C,handlePreviousSectionButton:S})}),e.jsx(a,{xl:8,lg:10,md:12,children:e.jsx(o,{className:"skeleton-card",children:e.jsx(j,{children:e.jsxs(j.Item,{eventKey:"0",children:[e.jsx(j.Header,{children:e.jsx("span",{className:"fw-bold text-black",children:e.jsx("h3",{className:"mt-2 fw-bold",children:"Your Answer"})})}),e.jsxs(j.Body,{children:[e.jsx("div",{className:"writing-questions table table-responsive",children:A(t.task)}),e.jsx("hr",{}),e.jsx("h3",{className:"mt-2 fw-bold",children:"Your Answer"}),e.jsx("p",{className:"writing-questions",children:i&&i.answers&&A(i.answers[t.id])})]})]})})})}),e.jsx(a,{xl:8,lg:10,md:12,className:"mt-3",children:e.jsx(V,{evaluation_keys:se,evaluation:c,currentSection:t})}),e.jsx(a,{xl:8,lg:10,md:12,className:"mt-3",children:c&&c[t.id]&&e.jsx(K,{title:"Vocabulary & Word Choice Suggestions",evaluation:c,currentSection:t,array:c[t.id].vocabulary_choice_suggestions})}),e.jsx(a,{xl:8,lg:10,md:12,className:"mt-3",children:e.jsxs(o,{children:[e.jsx(o.Header,{children:e.jsx("h3",{className:"mt-2 fw-bold",children:"Conclusion & Expert Feedback"})}),e.jsx(o.Body,{children:e.jsx("p",{style:{fontSize:"1.1rem"},children:c&&c[t.id].overall_personalized_feedback_suggestions})})]})}),e.jsx(a,{xl:8,lg:10,md:12,className:"mt-3",children:e.jsx(T,{currentSection:t,deviceType:w,isFirstSection:_,isLastSection:y,handleNextSectionButton:C,handlePreviousSectionButton:S})}),e.jsx(a,{xl:8,lg:10,md:12,className:"mt-3",children:e.jsx(D,{})}),i.full_test_next_attempt&&e.jsx(a,{xl:8,lg:10,md:12,className:"my-3",children:e.jsx(Z,{attempt:i})}),e.jsx(a,{xl:8,lg:10,md:12,className:"my-3",children:e.jsx(J,{})}),e.jsx(a,{xl:8,lg:10,md:12,className:"mb-3",children:e.jsx(Q,{})}),e.jsx(a,{xl:8,lg:10,md:12,className:"mb-3",children:e.jsx(X,{unique_id:`${z}-${u}`})})]}):e.jsx(a,{xl:8,lg:10,md:12,className:"",children:e.jsxs(o,{children:[e.jsx(o.Header,{children:e.jsx("h3",{className:"mt-2 fw-bold",children:"Test Results"})}),e.jsxs(o.Body,{className:"text-center",children:[e.jsx(ee,{size:60,color:"black"}),e.jsx("h2",{className:"mt-3",children:"Crafting Your Results!"}),e.jsx("p",{style:{fontSize:"1.1rem"},children:"We're meticulously evaluating your answers to provide an accurate score. As we piece together your performance, please enjoy this brief moment of anticipation. Your IELTS proficiency insights are just around the corner!"})]})]})})]})})]})},se=[{name:"Task Achievement",short:"TA",key:"task_achievement_band_score"},{name:"Coherence and Cohesion",short:"CC",key:"coherence_and_cohesion_band_score"},{name:"Lexical Resource",short:"LR",key:"lexical_resource_band_score"},{name:"Grammatical Range Accuracy",short:"GRA",key:"grammatical_range_accuracy_band_score"},{name:null,short:"Overall",key:"overall_band_score"}];export{xe as default};
//# sourceMappingURL=WritingResultPage-aa6670ea.js.map
