import{j as s,i as B,r as l,v as E,g as P,T as K,l as F,w as L,h as b,a as c,b as a,a9 as I,aa as z,C as n,c as N,ab as j,S as H,d as g}from"./index-8f03038e.js";import{c as W}from"./index.esm-a8d9f939.js";import{Y}from"./YourRecentTestsCard-af631812.js";import{u as R,T as $}from"./TestTypeSwitch-0515fe0e.js";import{E as U}from"./EvaluationLoader-587908f9.js";import{C as q}from"./CommentsCard-03a7e4bb.js";import{T as o}from"./Tab-ce618dff.js";import{A as m}from"./Accordion-c52d7213.js";import{T as G}from"./Table-1676ddff.js";import"./ButtonGroup-e14cb7ff.js";const M=()=>s.jsx(U,{title:"Please Wait While We Load Your Book",description:"We are loading your book; it should not take more than a few seconds. If it doesn't load within 1 minute, please refresh to try again."}),ns=()=>{const i=B().book_slug,[t,f]=l.useState(null),[p,y]=l.useState(null),v=E(),k=P(),[d,D]=l.useContext(K);let{registerUser:J,registrationError:O,user:x}=l.useContext(F);const u=R();function w(){v.get("ieltstest/book/"+i+"/",{params:{testType:d}}).then(e=>{e.status===200?f(e.data):console.log(e)})}function T(){k.post("student/get_attempts_from_book/"+i+"/").then(e=>{e.status===200?y(e.data):console.log(e)})}if(l.useEffect(()=>{d&&(w(),x&&T())},[d]),!t||x&&!p)return s.jsx(M,{});const C=["listening_module","reading_module","writing_module","speaking_module"];return s.jsxs(s.Fragment,{children:[s.jsx(L,{children:s.jsxs("title",{children:["Practice ",t.name," book for Free: Instant Feedback & Evaluation | KeenIELTS"]})}),s.jsx("section",{className:"pt-lg-8 pb-lg-16 pt-8 pb-12 bg-primary",children:s.jsxs(b,{children:[s.jsx(c,{className:"align-items-center",children:s.jsx(a,{xl:7,lg:7,md:12,sm:12,children:s.jsxs("div",{children:[s.jsx("h1",{className:"text-white display-4 fw-semi-bold",children:t.name}),s.jsx("p",{className:"text-white mb-4 lead",children:t.description}),s.jsx("div",{className:"d-flex align-items-center"})]})})}),s.jsxs(c,{className:"gy-3 gy-lg-0",children:[s.jsx(a,{xs:12,className:"mb-2  text-md-start",children:s.jsxs("span",{className:"text-white",children:[s.jsx(I,{className:"text-white-50"}),s.jsx("span",{className:"px-2 text-capitalize",children:t.institute.name})]})}),s.jsx(a,{xs:12,className:"mb-2  text-md-start",children:s.jsxs("span",{className:"text-white",children:[s.jsx(W,{className:"text-white-50"}),s.jsx("span",{className:"px-2 text-capitalize",children:t.copyright})]})}),s.jsx(a,{xs:12,className:"mb-2  text-md-start",children:s.jsxs("span",{className:"text-white",children:[s.jsx(z,{className:"text-white-50"}),s.jsx("span",{className:"px-2 text-capitalize",children:t.difficulty})]})})]})]})}),s.jsx("section",{className:"pb-10",children:s.jsx(b,{children:s.jsxs(c,{children:[s.jsx(a,{lg:4,md:12,sm:12,className:"mt-n10 mb-9 mb-lg-0",children:s.jsxs(n,{className:" mb-4",children:[s.jsx("div",{className:"p-1 ",children:s.jsx("img",{src:t.cover,className:"w-100 border-bottom"})}),s.jsx(n.Body,{className:"py-2",children:s.jsx("div",{className:"  ",children:s.jsx($,{})})}),s.jsx(n.Footer,{children:s.jsx("div",{className:"d-grid ",children:s.jsx(N,{className:"btn btn-primary mb-2",onClick:()=>{u("fulltest",i,"")},children:"Start Full Test"})})})]})}),s.jsx(a,{lg:8,md:12,sm:12,className:"mt-n10 mb-4 mb-lg-0",children:s.jsxs(c,{children:[s.jsx(a,{xs:12,children:s.jsx(o.Container,{defaultActiveKey:"tests",children:s.jsxs(n,{children:[s.jsx(j,{className:"nav-lb-tab",children:["Tests","Your Attempts"].map((e,r)=>s.jsx(j.Item,{children:s.jsx(j.Link,{eventKey:e.toLowerCase(),className:"mb-sm-3 mb-md-0",children:e})},r))}),s.jsx(n.Body,{className:"p-0",children:s.jsxs(o.Content,{children:[s.jsx(o.Pane,{eventKey:"tests",className:"my-2",children:s.jsx(m,{defaultActiveKey:0,flush:!0,children:t.tests.map((e,r)=>s.jsxs(m.Item,{eventKey:r,children:[s.jsx(m.Header,{className:"",children:s.jsx("span",{className:"text-black fw-bold",children:e.name})}),s.jsx(m.Body,{className:"p-0",children:s.jsx(G,{striped:!0,className:"text-nowrap",children:s.jsx("tbody",{children:C.map((h,_)=>e[h].map((A,S)=>s.jsx("tr",{children:s.jsx("td",{children:s.jsxs(H,{direction:"horizontal",gap:1,children:[s.jsx("div",{children:A.name})," ",s.jsx("div",{className:"ms-auto",children:s.jsx(N,{className:"btn-sm ",variant:h.split("_")[0],onClick:()=>{u(h.split("_")[0],i,e.slug)},children:"Start Test"})})]})})},`${_}-${S}`)))})})})]},r))})}),s.jsx(o.Pane,{eventKey:"your attempts",className:"my-2",children:x?s.jsx(Y,{tests:p}):s.jsxs("div",{className:"text-center p-4",children:[s.jsx("h3",{children:"Please sign in or create an account to view your test attempts."}),s.jsxs("div",{className:"mt-3",children:[s.jsx(g,{to:"/login/",className:"btn btn-primary ",children:"Sign in"}),s.jsx(g,{to:"/register/",className:"btn btn-outline-primary  ms-2",children:"Create Account"})]})]})})]})})]})})}),s.jsx(a,{xs:12,className:"my-3",children:s.jsx(q,{unique_id:`book-${i}`})})]})})]})})})]})};export{ns as default};
//# sourceMappingURL=BookHomePage-cdfcc25f.js.map
