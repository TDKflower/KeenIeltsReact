import{r as a,k as P,a5 as g,u as k,t as v,a1 as R,a2 as o,a3 as j,j as e,g as y,a as E,b as N,C as i,a4 as C,D as _}from"./index-e388c6e0.js";const q=()=>{a.useContext(P);const[n,d]=a.useState(""),[l,m]=a.useState(""),[u,p]=a.useState(null),c=g(),w=k(),f=v();a.useEffect(()=>{const r=new URLSearchParams(c.search),t=r.get("email"),s=r.get("token");t&&d(t),s&&m(s)},[c]);const h=[{type:"email",label:"Email",id:"email",invalid_feedback:"e.g. yourname@gmail.com",placeholder:"Enter your Email Address",value:n,disabled:!!n},{type:"text",label:"Token",id:"token",invalid_feedback:"Reset Password Token",placeholder:"Enter your Reset Password Token",value:l,disabled:!!l},{type:"password",label:"Password",id:"password",invalid_feedback:"Password should be strong",placeholder:"*************"},{type:"password",label:"Confirm Password",id:"password2",invalid_feedback:"Confirm password should  be same as Password",placeholder:"*************"}],b=R().shape({token:o().required("Required"),email:o().email("Invalid email").required("Required"),password:o().required("Password is required").min(8,"password must contain 8 or more characters with at least one of each: uppercase, lowercase, number and special").minLowercase(1,"password must contain at least 1 lower case letter").minUppercase(1,"password must contain at least 1 upper case letter").minNumbers(1,"password must contain at least 1 number").minSymbols(1,"password must contain at least 1 special character"),password2:o().oneOf([j("password"),null],"Passwords must match")}),x=async(r,t)=>{try{const s=await f.post(_+"/account/password_reset/confirm/",r);t(),w("/login/?alert=Password Reset Successful, Please Login Now&variant=success")}catch(s){console.error("Error fetching data:",s),p(s.response.data.message)}};return e.jsx(e.Fragment,{children:e.jsx(y,{className:"mb-5",children:e.jsx(E,{className:"align-items-center justify-content-center ",children:e.jsx(N,{lg:5,md:8,className:"",children:e.jsx(i,{className:"mt-5",children:e.jsxs(i.Body,{className:"",children:[e.jsx("div",{className:"mb-4",children:e.jsx("h1",{className:"mb-1 fw-bold",children:"Reset Password "})}),e.jsx(C,{form_fields:h,submit_label:"Set Password",on_submit:x,serverErrors:u,validation_schema:b,successMessage:"Password Reset Successful"}),e.jsx("div",{className:"mb-4"})]})})})})})})};export{q as default};
//# sourceMappingURL=ConfirmResetPassword-11769c84.js.map
