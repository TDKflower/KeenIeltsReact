import{j as s,B as C,k as o,J as v,r as f,H as q,R as F}from"./index-20f56ecc.js";const h=({children:g,user_answers:n,queName:e,form_field:i,moduleType:r})=>{const p=i&&i.props&&i.props.type==="radio",b=p&&i.props.checked,u=n&&n["que-"+e[1]]&&n["que-"+e[1]].is_user_answer_correct;return p&&!b?i:s.jsxs(C,{className:"fw-bold p-1 m-1",style:{fontSize:"16px"},bg:u?"success":n?"danger":r.toLowerCase(),children:[s.jsx("span",{className:"me-1",children:e[1]}),n&&(u?s.jsx(o,{size:18,style:{marginLeft:"5px",marginRight:"5px"}}):s.jsx(v,{size:18,style:{marginLeft:"5px",marginRight:"5px"}})),i]})},U=({section:g,section_form_values:n,user_answers:e,handleChange:i,moduleType:r="Listening"})=>{const[l,p]=f.useState({});f.useEffect(()=>{n&&p(n)},[n]);const b=t=>{if(r==="Reading"){const{name:a,value:x}=t.target,c=a.split("-")[1];p({...l,["que-"+c]:x}),i&&i(t)}},u=(t,a)=>{const x={...t.attribs,required:!1,onChange:r==="Reading"?b:i,disabled:!!e};return t.name==="input"&&t.attribs.type==="radio"?s.jsx("input",{type:"radio",...x,className:`${t.attribs.className||""} custom-form-control`,checked:e?e["que-"+a[1]].user_answer.toUpperCase()===t.attribs.value.toUpperCase():r==="Reading"?l["que-"+a[1]]===t.attribs.value:void 0}):t.name==="select"?s.jsx(s.Fragment,{children:s.jsx("select",{...x,className:`${t.attribs.className||""} custom-form-select`,value:e?String(e["que-"+a[1]].user_answer).toUpperCase():r==="Reading"?String(l["que-"+a[1]]).toUpperCase():void 0,children:Array.from(t.children||[]).map((c,j)=>{const R=c.children[0]?c.children[0].data:"";return f.createElement("option",{...c.attribs,key:j,value:String(c.attribs.value).toUpperCase()},R.toUpperCase())})})}):F.createElement(t.name,{...x,value:e?e["que-"+a[1]].user_answer:r==="Reading"?l["que-"+a[1]]:void 0})};return!g||!g.questions?null:s.jsx("div",{className:"parser-block",children:q(g.questions,{replace:t=>{if(t.name==="input"||t.name==="textarea"||t.name==="select"){let a=t.attribs.name.split("-");return s.jsxs("span",{id:`que-${a[1]}`,className:"",children:[e&&t.attribs.type==="radio"&&e["que-"+a[1]].user_answer===t.attribs.value&&s.jsx(h,{user_answers:e,queName:a,moduleType:r}),t.attribs.type!=="radio"?s.jsx(h,{user_answers:e,queName:a,form_field:u(t,a),moduleType:r}):s.jsx(h,{user_answers:e,queName:a,form_field:u(t,a),moduleType:r})]})}}})})};export{U as P};
//# sourceMappingURL=ParseQuestions-cfa8ddb1.js.map
