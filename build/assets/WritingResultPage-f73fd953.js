import{M as z,j as e,C as l,S as B,c as C,G as P,e as F,i as M,r,q as H,g as I,h as q,a as G,b as i,f as O,H as E,A as L}from"./index-9811f83e.js";import{P as Y}from"./PageHeadingBriefInfo-ec95df1f.js";/* empty css                      */import{O as U}from"./OverallBandsCard-6ba24daa.js";import{E as V,S as K}from"./SuggestionListCard-170913e1.js";import{F as $}from"./FullTestNextModule-ab35988b.js";import{W as D}from"./WhatsNextCard-591b17ed.js";import{S as Z}from"./StartPracticeTestCard-dfbad068.js";import{C as J}from"./CommentsCard-40f04ac9.js";import{A as j}from"./Accordion-dc14098b.js";import"./Table-77480f4b.js";import"./Modal-33aaf3c1.js";function Q(u){return z({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M4 13.5V4a2 2 0 0 1 2-2h8.5L20 7.5V20a2 2 0 0 1-2 2h-5.5"}},{tag:"polyline",attr:{points:"14 2 14 8 20 8"}},{tag:"path",attr:{d:"M10.42 12.61a2.1 2.1 0 1 1 2.97 2.97L7.95 21 4 22l.99-3.95 5.43-5.44Z"}}]})(u)}const A=({currentSection:u,deviceType:x,isFirstSection:n,isLastSection:f,handlePreviousSectionButton:a,handleNextSectionButton:g})=>e.jsx(l,{children:e.jsx(l.Body,{children:e.jsxs(B,{direction:"horizontal",children:[e.jsx("div",{children:e.jsxs(C,{variant:"primary",onClick:a,disabled:n,children:[e.jsx(P,{size:20})," ",x==="desktop"&&"Previous "]})}),e.jsx("div",{className:"ms-auto",children:e.jsx("span",{className:"fw-bold text-black",style:{fontSize:"20px"},children:u.section})}),e.jsx("div",{className:"ms-auto",children:e.jsxs(C,{variant:"primary",onClick:g,disabled:f,children:[x==="desktop"&&"Next ",e.jsx(F,{size:20})]})})]})})}),X="writing",xe=()=>{const{module_slug:u,attempt_slug:x}=M(),[n,f]=r.useState(null),[a,g]=r.useState(null),[t,h]=r.useState(null),[c,R]=r.useState(null);r.useContext(H);const _=t?t.id===n.sections[0].id:!1,w=t?t.id===n.sections[n.sections.length-1].id:!1,[b,y]=r.useState("desktop"),p=I();async function v(){const s=await p.post(L.getWritingAttempt+x+"/");s.status===200?g(s.data):console.error("Unable to fetch attempt at ListeningResult.jsx")}async function T(){const s=await p.post(L.getWritingModule+u+"/");s.status===200&&(f(s.data),h(s.data.sections[0]))}async function N(s,o){o<s.length?(await W(s[o].id),N(s,o+1)):v()}async function W(s){const o=await p.post("/ieltstest/get_writing_evaluation/"+x+"/"+s+"/");o.status===200?R(d=>({...d,[s]:o.data})):console.error("Unable to fetch attempt at WritingResultPage.jsx")}function S(){let o=t.id-1;const d=n.sections.find(m=>m.id===o);if(d)h(d);else{const m=n.sections[n.sections.length-1];h(m)}}function k(){let o=t.id+1;const d=n.sections.find(m=>m.id===o);if(d)h(d);else{const m=n.sections[0];h(m)}}return r.useEffect(()=>{v(),T()},[]),r.useEffect(()=>{n&&n.sections&&N(n.sections,0)},[n]),r.useEffect(()=>{const s=()=>{window.innerWidth<768?y("mobile"):y("desktop")};return s(),window.addEventListener("resize",s),()=>{window.removeEventListener("resize",s)}},[]),r.useEffect(()=>{t&&window.scrollTo(0,0)},[t]),r.useEffect(()=>{document.title="Writing Test Result  | KeenIELTS"},[]),!n||!a?null:e.jsxs(e.Fragment,{children:[e.jsx(Y,{pagetitle:a.book.name,briefinfo:"Writing Test Result",color:"bg-writing"}),e.jsx(q,{className:"mb-3",children:e.jsxs(G,{className:"justify-content-center",children:[e.jsxs(i,{xl:8,lg:10,md:12,className:"mt-3",children:[a&&a.bands>0?e.jsx(U,{bands:a.bands,description:a.bands_description,color:"writing"}):e.jsx(O,{title:"Overall Score"}),e.jsx("hr",{className:" my-4"})]}),c?e.jsxs(e.Fragment,{children:[e.jsx(i,{xl:8,lg:10,md:12,className:"",children:e.jsx(A,{currentSection:t,deviceType:b,isFirstSection:_,isLastSection:w,handleNextSectionButton:k,handlePreviousSectionButton:S})}),e.jsx(i,{xl:8,lg:10,md:12,children:e.jsx(l,{className:"skeleton-card",children:e.jsx(j,{children:e.jsxs(j.Item,{eventKey:"0",children:[e.jsx(j.Header,{children:e.jsx("span",{className:"fw-bold text-black",children:e.jsx("h3",{className:"mt-2 fw-bold",children:"Your Answer"})})}),e.jsxs(j.Body,{children:[e.jsx("div",{className:"writing-questions table table-responsive",children:E(t.task)}),e.jsx("hr",{}),e.jsx("h3",{className:"mt-2 fw-bold",children:"Your Answer"}),e.jsx("p",{className:"writing-questions",children:a&&a.answers&&E(a.answers[t.id])})]})]})})})}),e.jsx(i,{xl:8,lg:10,md:12,className:"mt-3",children:e.jsx(V,{evaluation_keys:ee,evaluation:c,currentSection:t})}),e.jsx(i,{xl:8,lg:10,md:12,className:"mt-3",children:c&&c[t.id]&&e.jsx(K,{title:"Vocabulary & Word Choice Suggestions",evaluation:c,currentSection:t,array:c[t.id].vocabulary_choice_suggestions})}),e.jsx(i,{xl:8,lg:10,md:12,className:"mt-3",children:e.jsxs(l,{children:[e.jsx(l.Header,{children:e.jsx("h3",{className:"mt-2 fw-bold",children:"Conclusion & Expert Feedback"})}),e.jsx(l.Body,{children:e.jsx("p",{style:{fontSize:"1.1rem"},children:c&&c[t.id].overall_personalized_feedback_suggestions})})]})}),e.jsx(i,{xl:8,lg:10,md:12,className:"mt-3",children:e.jsx(A,{currentSection:t,deviceType:b,isFirstSection:_,isLastSection:w,handleNextSectionButton:k,handlePreviousSectionButton:S})}),a.full_test_next_attempt&&e.jsx(i,{xl:8,lg:10,md:12,className:"my-3",children:e.jsx($,{attempt:a})}),e.jsx(i,{xl:8,lg:10,md:12,className:"my-3",children:e.jsx(D,{})}),e.jsx(i,{xl:8,lg:10,md:12,className:"mb-3",children:e.jsx(Z,{})}),e.jsx(i,{xl:8,lg:10,md:12,className:"mb-3",children:e.jsx(J,{unique_id:`${X}-${u}`})})]}):e.jsx(i,{xl:8,lg:10,md:12,className:"",children:e.jsxs(l,{children:[e.jsx(l.Header,{children:e.jsx("h3",{className:"mt-2 fw-bold",children:"Test Results"})}),e.jsxs(l.Body,{className:"text-center",children:[e.jsx(Q,{size:60,color:"black"}),e.jsx("h2",{className:"mt-3",children:"Crafting Your Results!"}),e.jsx("p",{style:{fontSize:"1.1rem"},children:"We're meticulously evaluating your answers to provide an accurate score. As we piece together your performance, please enjoy this brief moment of anticipation. Your IELTS proficiency insights are just around the corner!"})]})]})})]})})]})},ee=[{name:"Task Achievement",short:"TA",key:"task_achievement_band_score"},{name:"Coherence and Cohesion",short:"CC",key:"coherence_and_cohesion_band_score"},{name:"Lexical Resource",short:"LR",key:"lexical_resource_band_score"},{name:"Grammatical Range Accuracy",short:"GRA",key:"grammatical_range_accuracy_band_score"},{name:null,short:"Overall",key:"overall_band_score"}];export{xe as default};
//# sourceMappingURL=WritingResultPage-f73fd953.js.map
