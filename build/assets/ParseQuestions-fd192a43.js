import{j as r,B as C,k as v,J as o,r as b,H as q,R as k}from"./index-64dfe3ff.js";const f=({children:u,user_answers:i,queName:a,form_field:n,moduleType:s})=>{const c=n.props.type==="radio",x=c&&n.props.checked,g=i&&i["que-"+a[1]]&&i["que-"+a[1]].is_user_answer_correct;return c&&!x?n:r.jsxs(C,{className:"fw-bold p-1 m-1",style:{fontSize:"16px"},bg:g?"success":i?"danger":s.toLowerCase(),children:[r.jsx("span",{className:"me-1",children:a[1]}),i&&(g?r.jsx(v,{size:18,style:{marginLeft:"5px",marginRight:"5px"}}):r.jsx(o,{size:18,style:{marginLeft:"5px",marginRight:"5px"}})),n]})},S=({section:u,section_form_values:i,user_answers:a,handleChange:n,moduleType:s="Listening"})=>{const[c,x]=b.useState({});b.useEffect(()=>{i&&x(i)},[i]);const g=t=>{if(s==="Reading"){const{name:e,value:p}=t.target,l=e.split("-")[1];x({...c,["que-"+l]:p}),n&&n(t)}},h=(t,e)=>{const p={...t.attribs,required:!1,onChange:s==="Reading"?g:n,disabled:!!a};return t.name==="input"&&t.attribs.type==="radio"?r.jsx("input",{type:"radio",...p,className:`${t.attribs.className||""} custom-form-control`,checked:a?a["que-"+e[1]].user_answer.toUpperCase()===t.attribs.value.toUpperCase():s==="Reading"?c["que-"+e[1]]===t.attribs.value:void 0}):t.name==="select"?r.jsx(r.Fragment,{children:r.jsx("select",{...p,className:`${t.attribs.className||""} custom-form-select`,value:a?String(a["que-"+e[1]].user_answer).toUpperCase():s==="Reading"?String(c["que-"+e[1]]).toUpperCase():void 0,children:Array.from(t.children||[]).map((l,j)=>{const R=l.children[0]?l.children[0].data:"";return b.createElement("option",{...l.attribs,key:j,value:String(l.attribs.value).toUpperCase()},R.toUpperCase())})})}):k.createElement(t.name,{...p,value:a?a["que-"+e[1]].user_answer:s==="Reading"?c["que-"+e[1]]:void 0})};return!u||!u.questions?null:r.jsx("div",{className:"parser-block",children:q(u.questions,{replace:t=>{if(t.name==="input"||t.name==="textarea"||t.name==="select"){let e=t.attribs.name.split("-");return r.jsxs("span",{id:`que-${e[1]}`,className:"",children:[a&&t.attribs.type==="radio"&&a["que-"+e[1]].user_answer===t.attribs.value&&r.jsx(f,{user_answers:a,queName:e,moduleType:s}),t.attribs.type!=="radio"?r.jsx(f,{user_answers:a,queName:e,form_field:h(t,e),moduleType:s}):r.jsx(f,{user_answers:a,queName:e,form_field:h(t,e),moduleType:s})]})}}})})};export{S as P};
//# sourceMappingURL=ParseQuestions-fd192a43.js.map
